<div class="form-group">
  <label for="enqueueMessageFrom" class="col-lg-2 control-label">Message From</label>
  <div class="col-lg-7">
    <select name="enqueueMessageFrom" id="enqueueMessageFrom" class="form-control"
            ng-model="teststep.otherProperties.enqueueMessageFrom" ng-change="update(teststepForm.$valid)"
            ng-disabled="testrun.status === 'ongoing'">
      <option value="Text">Text</option>
      <option value="File">File</option>
    </select>
  </div>
</div>

<div class="form-group" ng-if="teststep.otherProperties.enqueueMessageFrom === 'Text'">
  <div class="col-lg-10">
    <uib-tabset>
      <uib-tab heading="Body">
        <div class="form-group"></div> <!-- spacer -->
        <div class="col-lg-12">
            <textarea name="enqueueTextMessage" id="enqueueTextMessage" ng-model="teststep.request"
                      ng-change="autoSave(teststepForm.$valid)" class="form-control" rows="23" spellcheck="false"></textarea>
        </div>
      </uib-tab>
    </uib-tabset>
  </div>
</div>

<div ng-if="teststep.otherProperties.enqueueMessageFrom === 'File'">
  <div class="form-group"></div> <!-- spacer -->
  <div class="form-group"></div> <!-- spacer -->
  <div class="form-group"></div> <!-- spacer -->
  <div class="form-group">
    <div class="col-lg-offset-2 col-lg-1">
      <button type="file" class="btn btn-info" ngf-select="uploadRequestFile($file)"
              ngf-max-size="10MB">Select File</button>
    </div>
    <div class="col-lg-1" ng-if="teststep.otherProperties.enqueueMessageFilename">
      <button type="button" class="btn btn-info" ng-click="downloadRequestFile()">Download File</button>
    </div>
  </div>
  <div class="form-group">
    <div class="col-lg-offset-2 col-lg-7" ng-if="teststep.otherProperties.enqueueMessageFilename">
      <h5>{{teststep.otherProperties.enqueueMessageFilename}}</h5>
    </div>
  </div>
</div>
